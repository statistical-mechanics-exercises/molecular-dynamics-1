# Calculating the potential 

In the previous programming exercise, you learned how we can calculate approximate values for integrals by using a method called Monte Carlo, which works by a set of random microstates and computing an average.  By far the most common way that Monte Carlo simulation is used when doing research in statistical mechanics is through a variant known as molecular dynamics.  In this programming exercise, you are thus going to learn the basics of how to set up and run a molecular dynamics calculation. 

In molecular dynamics calculations configurations are generated by solving Newtons equations numerically.  There is thus no accept/reject criteria like the is in the Monte Carlo technique that was discussed in the video.  Furthermore, because Newton's equations of motion are conservative, when we compute an average from a molecular dynamics simulation we are computing an average for the microcanonical (NVE) ensemble.

The first thing you must learn is how to write a function to compute the potential energy for a configuration.  The potential energy is a function of the positions, x, that is usually written as a sum of two-body, three-body and four-body terms.  In this exercise, we are going to be studying a simple potential energy called the Lennard Jones potential.  The functional form for this potential is as follows:

![](https://render.githubusercontent.com/render/math?math=V(\mathbf{x})=\sum_{i=2}^N\sum_{j=1}^{i-1}4\left[\left(\frac{1}{r_{ij}}\right)^{12}-\left(\frac{1}{r_{ij}}\right)^6\right])

In this expression, ![](https://render.githubusercontent.com/render/math?math=N) is the total number of atoms and ![](https://render.githubusercontent.com/render/math?math=r_{ij}) is the distance between atom i and j.  The sums at the start of the expression thus ensure that we are summing over all of the pairwise distances.

Your task in this exercise is to write a function called `potential` that takes the positions of N atoms as input and that returns the value of the Lennard Jones potential defined above.  The positions that will be passed to the function will be contained in an N by 2 matrix (the 2 columns of this matrix contain the x and y coordinates of the atoms respectively).  To help you get started I have provided you with an input file that contains a set of 7 atom positions, which you can use to test your function.  The potential energy of the configuration in the input file is -11.4809. 
